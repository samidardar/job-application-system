<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Application System - Dashboard</title>
    <link rel="stylesheet" href="static/css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üöÄ Job Application System</h1>
            <p class="subtitle">Dashboard de suivi des candidatures - Sami</p>
            <div class="header-actions">
                <button id="refreshBtn" class="btn btn-primary">
                    <span class="icon">‚Üª</span> Actualiser
                </button>
                <button id="runWorkflowBtn" class="btn btn-success">
                    <span class="icon">‚ñ∂</span> Lancer Workflow
                </button>
            </div>
        </header>

        <!-- Stats Cards -->
        <section class="stats-grid">
            <div class="stat-card primary">
                <div class="stat-icon">üìä</div>
                <div class="stat-content">
                    <h3 id="totalJobs">-</h3>
                    <p>Offres scrap√©es</p>
                </div>
            </div>
            <div class="stat-card success">
                <div class="stat-icon">‚úâÔ∏è</div>
                <div class="stat-content">
                    <h3 id="totalApplications">-</h3>
                    <p>Candidatures envoy√©es</p>
                </div>
            </div>
            <div class="stat-card warning">
                <div class="stat-icon">‚≠ê</div>
                <div class="stat-content">
                    <h3 id="shortlistedCount">-</h3>
                    <p>Offres pr√©s√©lectionn√©es</p>
                </div>
            </div>
            <div class="stat-card info">
                <div class="stat-icon">üìà</div>
                <div class="stat-content">
                    <h3 id="responseRate">-</h3>
                    <p>Taux de r√©ponse</p>
                </div>
            </div>
        </section>

        <!-- Pipeline Visualization -->
        <section class="pipeline-section">
            <h2>Pipeline de Candidature</h2>
            <div class="pipeline">
                <div class="pipeline-step" data-status="scraped">
                    <div class="step-icon">üîç</div>
                    <div class="step-label">Scrap√©es</div>
                    <div class="step-count" id="pipelineScraped">0</div>
                </div>
                <div class="pipeline-arrow">‚Üí</div>
                <div class="pipeline-step" data-status="analyzed">
                    <div class="step-icon">ü§ñ</div>
                    <div class="step-label">Analys√©es</div>
                    <div class="step-count" id="pipelineAnalyzed">0</div>
                </div>
                <div class="pipeline-arrow">‚Üí</div>
                <div class="pipeline-step" data-status="shortlisted">
                    <div class="step-icon">‚úÖ</div>
                    <div class="step-label">S√©lectionn√©es</div>
                    <div class="step-count" id="pipelineShortlisted">0</div>
                </div>
                <div class="pipeline-arrow">‚Üí</div>
                <div class="pipeline-step" data-status="applied">
                    <div class="step-icon">üì§</div>
                    <div class="step-label">Postul√©es</div>
                    <div class="step-count" id="pipelineApplied">0</div>
                </div>
                <div class="pipeline-arrow">‚Üí</div>
                <div class="pipeline-step" data-status="responded">
                    <div class="step-icon">üí¨</div>
                    <div class="step-label">R√©ponses</div>
                    <div class="step-count" id="pipelineResponded">0</div>
                </div>
            </div>
        </section>

        <!-- Charts Section -->
        <section class="charts-section">
            <div class="chart-container">
                <h3>Activit√© des 7 derniers jours</h3>
                <canvas id="activityChart"></canvas>
            </div>
            <div class="chart-container">
                <h3>R√©partition par plateforme</h3>
                <canvas id="platformChart"></canvas>
            </div>
        </section>

        <!-- Main Content Grid -->
        <div class="content-grid">
            <!-- Top Opportunities -->
            <section class="content-section">
                <div class="section-header">
                    <h2>üéØ Top Opportunit√©s</h2>
                    <a href="#" class="view-all">Voir tout ‚Üí</a>
                </div>
                <div class="job-list" id="topOpportunities">
                    <!-- Dynamically populated -->
                    <div class="loading">Chargement...</div>
                </div>
            </section>

            <!-- Recent Applications -->
            <section class="content-section">
                <div class="section-header">
                    <h2>üì® Candidatures R√©centes</h2>
                    <a href="#" class="view-all">Voir tout ‚Üí</a>
                </div>
                <div class="application-list" id="recentApplications">
                    <!-- Dynamically populated -->
                    <div class="loading">Chargement...</div>
                </div>
            </section>
        </div>

        <!-- Follow-ups Section -->
        <section class="content-section">
            <div class="section-header">
                <h2>‚è∞ Relances √† Effectuer</h2>
            </div>
            <div class="followup-list" id="followups">
                <!-- Dynamically populated -->
            </div>
        </section>

        <!-- Activity Log -->
        <section class="content-section">
            <div class="section-header">
                <h2>üìã Journal d'Activit√©</h2>
            </div>
            <div class="activity-log" id="activityLog">
                <!-- Dynamically populated -->
            </div>
        </section>

        <!-- Settings Panel -->
        <section class="settings-section">
            <h2>‚öôÔ∏è Param√®tres</h2>
            <div class="settings-grid">
                <div class="setting-item">
                    <label>Limite quotidienne de candidatures</label>
                    <input type="number" id="dailyLimit" value="30" min="1" max="100">
                </div>
                <div class="setting-item">
                    <label>Score de pertinence minimum</label>
                    <input type="number" id="minScore" value="6.0" min="0" max="10" step="0.5">
                </div>
                <div class="setting-item">
                    <label>Mode auto-application</label>
                    <label class="toggle">
                        <input type="checkbox" id="autoApply">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <button id="saveSettings" class="btn btn-primary">Sauvegarder</button>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>Job Application System pour Sami | Derni√®re mise √† jour: <span id="lastUpdate">-</span></p>
        </footer>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer" class="notification-container"></div>

    <script src="static/js/dashboard.js"></script>
</body>
</html>
